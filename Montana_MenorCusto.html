<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <title>Rota 5 (Montana) — ROI</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin=""/>
  <style>
    body { margin:0; font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif; }
    #map { height: 60vh; }
    .container { padding: 12px 16px; }
    .cards { display: grid; gap: 10px; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); margin-bottom: 12px; }
    .card { border: 1px solid #e6e6e6; border-radius: 12px; padding: 10px 12px; background: #fff; box-shadow: 0 1px 6px rgba(0,0,0,.06); }
    .card .k { font-size: 12px; color: #666; }
    .card .v { font-size: 16px; font-weight: 700; }

    table { border-collapse: collapse; width: 100%; font-size: 13px; }
    th, td { border: 1px solid #ddd; padding: 6px 8px; white-space: nowrap; }
    th { background: #f1f3f4; text-align: left; }
    tr:nth-child(even) { background: #fafafa; }

    .num-marker { background: none; border: none; }
    .num-badge {
      width: 26px; height: 26px; border-radius: 50%;
      background: #1e88e5; color: #fff; font-weight: 700;
      display: flex; align-items: center; justify-content: center;
      border: 2px solid #fff; box-shadow: 0 1px 4px rgba(0,0,0,.35);
    }

    .legend { display:flex; flex-wrap:wrap; gap:10px; margin: 8px 0 14px; }
    .chip { display:flex; align-items:center; gap:8px; padding:6px 10px; border:1px solid #e6e6e6; border-radius:999px; background:#fff; }
    .swatch { width:14px; height:14px; border-radius:3px; }
  </style>
</head>
<body>
  <div id="map"></div>
  <div class="container">
    <h2>Rota Montana (5, CITY diferentes) — Seleção por ROI</h2>
    <div class="cards" id="cards"></div>
    <div class="legend" id="legend"></div>
    <table id="t"></table>
  </div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script>
    const data = [{"visit_order":1,"day_num":1,"office":"STEWART ARCHITECTS","city":"Bozeman","arrival":"2026-05-18 09:15","departure":"2026-05-18 11:23","visit_duration":"01:58","drive_duration":"00:00","dist_from_prev_km":0.0,"cumulative_km":0.0,"lat":45.67758603,"lon":-111.0407183,"clas":null,"return_eur":50000},{"visit_order":2,"day_num":1,"office":"KA ARCHITECTURE","city":"Manhattan","arrival":"2026-05-18 13:15","departure":"2026-05-18 15:22","visit_duration":"01:57","drive_duration":"00:24","dist_from_prev_km":26.9,"cumulative_km":26.9,"lat":45.74397441,"lon":-111.2935639,"clas":null,"return_eur":50000},{"visit_order":3,"day_num":1,"office":"TETON HERITAGE","city":"Gallatin Gateway","arrival":"2026-05-18 16:00","departure":"2026-05-19 09:00","visit_duration":"01:58","drive_duration":"00:23","dist_from_prev_km":24.2,"cumulative_km":51.1,"lat":45.59021104,"lon":-111.1976752,"clas":null,"return_eur":50000},{"visit_order":4,"day_num":2,"office":"BLUE RIBBON BUILDERS","city":"Big Sky","arrival":"2026-05-19 09:50","departure":"2026-05-19 12:11","visit_duration":"02:11","drive_duration":"00:35","dist_from_prev_km":49.1,"cumulative_km":100.2,"lat":45.26799794,"lon":-111.2924028,"clas":null,"return_eur":50000},{"visit_order":5,"day_num":2,"office":"CUSHING TERRELL","city":"Helena","arrival":"2026-05-19 14:49","departure":"2026-05-19 16:57","visit_duration":"01:58","drive_duration":"02:23","dist_from_prev_km":210.7,"cumulative_km":310.9,"lat":46.58953412,"lon":-112.0385237,"clas":null,"return_eur":50000}];
    const segments = [{"coords": [[45.677465, -111.040718], [45.677465, -111.040811], [45.677282, -111.04081], [45.677282, -111.04013], [45.678281, -111.040102], [45.679159, -111.040091], [45.679298, -111.040066], [45.679307, -111.046246], [45.68199, -111.046234], [45.68299, -111.046139], [45.685494, -111.04614], [45.687729, -111.046122], [45.6905, -111.04614], [45.692893, -111.046099], [45.694259, -111.046097], [45.695925, -111.046114], [45.698077, -111.046097], [45.698085, -111.046309], [45.697915, -111.048899], [45.697913, -111.049475], [45.698029, -111.050253], [45.698351, -111.051473], [45.698887, -111.05303], [45.699198, -111.053717], [45.69961, -111.054575], [45.700443, -111.056018], [45.701254, -111.057111], [45.702088, -111.058045], [45.703413, -111.059234], [45.704863, -111.060165], [45.706293, -111.060777], [45.707526, -111.061092], [45.710023, -111.061343], [45.710868, -111.061528], [45.711849, -111.061829], [45.712586, -111.062145], [45.713351, -111.062539], [45.714591, -111.063377], [45.715584, -111.064244], [45.716537, -111.065325], [45.717316, -111.066372], [45.717945, -111.067351], [45.719045, -111.069373], [45.727903, -111.086503], [45.730011, -111.090546], [45.744217, -111.117957], [45.745558, -111.120686], [45.746475, -111.1229], [45.746834, -111.123802], [45.755834, -111.149333], [45.757163, -111.153149], [45.758268, -111.156284], [45.758428, -111.156544], [45.758809, -111.157439], [45.759096, -111.158075], [45.759431, -111.158726], [45.760137, -111.159995], [45.760876, -111.161178], [45.761038, -111.161818], [45.761172, -111.162026], [45.761194, -111.162041], [45.761273, -111.162148], [45.761308, -111.162334], [45.761295, -111.162431], [45.761258, -111.162514], [45.761201, -111.16257], [45.761135, -111.162589], [45.76094, -111.162615], [45.760742, -111.162667], [45.760187, -111.163018], [45.760054, -111.163196], [45.759918, -111.16347], [45.759846, -111.163553], [45.75979, -111.163583], [45.759623, -111.163589], [45.759512, -111.163611], [45.758752, -111.163806], [45.758642, -111.163772], [45.757596, -111.164116], [45.75767, -111.164679], [45.757727, -111.165198], [45.757766, -111.165475], [45.757818, -111.166353], [45.75784, -111.166521], [45.757867, -111.166619], [45.757919, -111.166701], [45.757937, -111.166707], [45.757997, -111.166759], [45.758043, -111.166834], [45.75807, -111.166926], [45.758076, -111.167026], [45.75806, -111.167124], [45.758024, -111.167209], [45.757965, -111.167281], [45.757932, -111.167305], [45.757875, -111.167376], [45.757824, -111.167495], [45.757805, -111.167647], [45.757785, -111.167963], [45.7578, -111.168856], [45.75831, -111.174306], [45.758328, -111.174559], [45.758351, -111.176057], [45.758418, -111.185258], [45.75542, -111.185223], [45.752392, -111.185142], [45.74998, -111.185137], [45.748347, -111.185119], [45.747354, -111.185098], [45.74385, -111.185092], [45.743803, -111.197348], [45.743742, -111.205491], [45.743752, -111.206464], [45.743728, -111.211412], [45.743686, -111.217941], [45.743663, -111.218242], [45.743577, -111.218714], [45.743428, -111.219352], [45.743383, -111.219588], [45.743349, -111.219878], [45.743323, -111.220511], [45.743315, -111.221021], [45.743316, -111.222353], [45.743327, -111.222883], [45.74339, -111.224368], [45.74345, -111.22528], [45.743559, -111.227152], [45.743611, -111.227801], [45.743641, -111.22845], [45.743646, -111.228931], [45.743627, -111.230673], [45.743663, -111.23262], [45.743652, -111.233495], [45.743652, -111.234272], [45.743635, -111.234822], [45.743643, -111.235814], [45.743606, -111.239579], [45.743602, -111.24502], [45.743645, -111.25116], [45.743636, -111.254754], [45.743644, -111.256665], [45.743659, -111.268652], [45.743676, -111.269654], [45.743658, -111.272251], [45.743626, -111.274906], [45.743528, -111.275858], [45.743472, -111.276945], [45.743549, -111.278114], [45.743601, -111.279329], [45.743611, -111.280605], [45.743583, -111.285702], [45.743529, -111.291925], [45.743492, -111.293326], [45.743492, -111.293563]], "day_num": 1}, {"coords": [[45.743492, -111.293563], [45.743492, -111.293326], [45.743529, -111.291925], [45.743583, -111.285702], [45.743611, -111.280605], [45.743601, -111.279329], [45.743549, -111.278114], [45.743472, -111.276945], [45.743528, -111.275858], [45.743626, -111.274906], [45.743658, -111.272251], [45.743676, -111.269654], [45.743659, -111.268652], [45.743644, -111.256665], [45.743636, -111.254754], [45.743645, -111.25116], [45.743602, -111.24502], [45.743606, -111.239579], [45.743643, -111.235814], [45.743509, -111.23579], [45.743405, -111.235746], [45.743282, -111.235653], [45.741599, -111.234166], [45.739008, -111.23182], [45.734573, -111.227848], [45.734027, -111.227394], [45.733511, -111.2271], [45.732982, -111.226908], [45.732486, -111.226832], [45.729133, -111.226857], [45.727942, -111.226856], [45.725688, -111.226832], [45.725475, -111.22681], [45.725184, -111.226745], [45.724867, -111.226634], [45.724354, -111.226395], [45.724093, -111.226233], [45.723775, -111.225974], [45.723123, -111.225337], [45.722728, -111.224977], [45.722265, -111.224604], [45.721193, -111.223879], [45.720094, -111.223162], [45.719018, -111.222444], [45.71847, -111.222113], [45.717884, -111.221911], [45.716113, -111.221523], [45.714234, -111.220969], [45.713083, -111.220026], [45.712443, -111.219723], [45.711755, -111.219579], [45.711097, -111.21946], [45.710442, -111.21926], [45.708101, -111.218497], [45.70771, -111.21828], [45.70722, -111.217803], [45.706722, -111.217259], [45.706273, -111.216796], [45.705894, -111.216489], [45.705412, -111.216373], [45.704178, -111.216402], [45.702911, -111.216459], [45.701711, -111.216495], [45.700776, -111.21654], [45.70021, -111.216537], [45.699073, -111.216591], [45.697813, -111.216627], [45.694394, -111.216755], [45.694214, -111.216751], [45.694035, -111.216731], [45.693857, -111.216694], [45.690237, -111.215664], [45.689973, -111.215585], [45.689466, -111.215405], [45.687518, -111.214895], [45.686636, -111.214638], [45.686288, -111.214505], [45.68606, -111.214381], [45.68589, -111.214231], [45.685629, -111.213925], [45.685472, -111.213716], [45.68532, -111.213579], [45.685162, -111.213454], [45.684998, -111.213345], [45.684915, -111.213298], [45.684743, -111.213223], [45.684567, -111.213167], [45.6843, -111.213106], [45.683671, -111.213041], [45.682596, -111.212887], [45.68224, -111.212818], [45.681974, -111.212749], [45.681711, -111.212662], [45.681095, -111.212389], [45.680998, -111.212329], [45.680082, -111.211917], [45.679313, -111.211695], [45.678696, -111.211626], [45.678087, -111.211571], [45.677559, -111.211542], [45.676592, -111.211515], [45.676162, -111.211483], [45.675122, -111.211448], [45.674853, -111.211419], [45.673969, -111.211417], [45.673074, -111.211399], [45.672754, -111.211404], [45.672025, -111.211379], [45.671795, -111.211392], [45.671538, -111.211381], [45.671321, -111.211324], [45.671473, -111.210535], [45.671908, -111.208672], [45.672053, -111.208111], [45.67219, -111.20716], [45.672224, -111.206592], [45.672216, -111.206102], [45.672191, -111.205764], [45.672138, -111.205277], [45.67182, -111.20389], [45.671684, -111.203225], [45.6713, -111.201454], [45.671198, -111.200957], [45.671135, -111.200447], [45.671125, -111.200047], [45.67111, -111.197007], [45.671123, -111.195799], [45.671128, -111.190581], [45.67112, -111.185612], [45.670207, -111.1856], [45.669293, -111.185606], [45.667878, -111.185671], [45.666345, -111.185713], [45.664814, -111.185724], [45.660481, -111.185816], [45.659549, -111.185889], [45.659009, -111.185977], [45.658344, -111.186192], [45.657971, -111.186343], [45.657618, -111.186517], [45.657421, -111.186629], [45.656654, -111.187106], [45.652912, -111.189494], [45.6527, -111.189645], [45.651491, -111.190399], [45.643854, -111.195317], [45.64334, -111.195627], [45.642967, -111.195831], [45.64266, -111.195983], [45.642385, -111.196106], [45.642025, -111.196247], [45.641537, -111.196403], [45.640861, -111.196573], [45.639925, -111.196706], [45.638416, -111.196749], [45.628762, -111.196871], [45.626641, -111.196883], [45.619382, -111.196989], [45.618158, -111.196993], [45.61697, -111.1969], [45.615848, -111.196753], [45.611256, -111.196102], [45.609188, -111.195827], [45.608195, -111.195732], [45.607231, -111.195735], [45.605748, -111.195855], [45.604836, -111.195908], [45.603826, -111.196024], [45.602655, -111.196109], [45.600578, -111.196308], [45.592159, -111.197055], [45.59176, -111.197079], [45.591185, -111.197092], [45.590464, -111.19708], [45.59037, -111.197461], [45.59021, -111.197462]], "day_num": 1}, {"coords": [[45.59021, -111.197462], [45.59037, -111.197461], [45.590464, -111.19708], [45.573078, -111.196894], [45.567459, -111.196857], [45.563326, -111.196809], [45.563129, -111.196815], [45.562699, -111.196857], [45.562295, -111.19694], [45.562043, -111.197013], [45.561808, -111.197104], [45.561573, -111.197209], [45.561206, -111.197402], [45.560829, -111.197655], [45.560551, -111.197877], [45.560245, -111.19816], [45.559903, -111.198547], [45.559659, -111.198848], [45.55796, -111.201115], [45.556517, -111.203142], [45.554192, -111.206323], [45.553776, -111.206818], [45.552409, -111.208687], [45.551671, -111.209761], [45.545951, -111.217587], [45.544404, -111.219707], [45.54033, -111.225302], [45.538231, -111.228148], [45.534113, -111.233786], [45.532293, -111.236252], [45.530716, -111.238413], [45.529793, -111.239661], [45.528858, -111.240959], [45.524314, -111.247164], [45.522788, -111.249297], [45.522324, -111.249929], [45.522066, -111.250264], [45.521664, -111.250835], [45.521398, -111.251189], [45.521225, -111.251403], [45.520973, -111.251679], [45.520762, -111.251888], [45.520539, -111.252083], [45.520136, -111.252405], [45.517935, -111.254119], [45.515819, -111.255754], [45.515024, -111.256393], [45.510494, -111.25988], [45.509767, -111.260461], [45.509407, -111.260777], [45.509013, -111.261158], [45.508636, -111.261562], [45.508239, -111.262025], [45.507719, -111.262725], [45.507111, -111.263607], [45.505958, -111.265317], [45.505193, -111.266375], [45.504676, -111.266876], [45.503732, -111.267518], [45.503143, -111.267897], [45.502441, -111.268527], [45.501806, -111.269259], [45.501054, -111.270079], [45.500697, -111.270375], [45.50028, -111.270621], [45.499194, -111.270961], [45.497601, -111.271314], [45.493844, -111.272143], [45.492425, -111.272433], [45.492157, -111.272463], [45.49192, -111.272472], [45.49168, -111.272465], [45.491497, -111.272437], [45.490976, -111.272297], [45.489305, -111.271453], [45.488412, -111.271093], [45.487532, -111.270901], [45.486616, -111.270885], [45.48397, -111.271283], [45.483189, -111.271235], [45.478236, -111.27004], [45.476952, -111.26991], [45.474762, -111.269959], [45.473982, -111.269895], [45.472379, -111.269419], [45.471656, -111.268876], [45.471066, -111.268107], [45.470332, -111.26688], [45.466388, -111.26029], [45.466222, -111.259977], [45.466084, -111.259648], [45.465972, -111.259295], [45.465849, -111.258864], [45.46565, -111.257996], [45.465435, -111.257231], [45.465209, -111.256747], [45.464985, -111.256325], [45.464671, -111.255914], [45.464362, -111.255577], [45.463996, -111.255243], [45.463204, -111.254629], [45.462994, -111.254444], [45.462827, -111.254259], [45.462624, -111.253983], [45.462393, -111.253616], [45.462218, -111.253261], [45.462069, -111.252888], [45.461992, -111.252663], [45.461752, -111.25185], [45.461597, -111.251396], [45.461426, -111.250994], [45.461256, -111.250602], [45.460957, -111.250084], [45.460773, -111.249809], [45.460614, -111.249611], [45.460368, -111.249352], [45.459186, -111.248211], [45.458057, -111.247067], [45.45783, -111.246829], [45.457419, -111.246368], [45.457237, -111.246177], [45.456979, -111.245932], [45.456528, -111.2456], [45.455456, -111.244847], [45.454835, -111.2443], [45.454256, -111.243636], [45.4537, -111.242788], [45.453262, -111.241906], [45.45252, -111.240339], [45.452246, -111.2398], [45.452049, -111.239433], [45.451761, -111.238988], [45.451389, -111.238538], [45.451011, -111.238191], [45.450705, -111.237982], [45.449974, -111.237618], [45.449543, -111.237452], [45.446678, -111.236377], [45.44604, -111.236124], [45.445244, -111.235856], [45.444738, -111.235658], [45.443665, -111.235259], [45.442458, -111.234841], [45.441974, -111.234678], [45.441284, -111.234469], [45.438136, -111.233563], [45.437229, -111.233323], [45.436608, -111.233146], [45.436217, -111.233067], [45.435401, -111.233099], [45.435053, -111.233169], [45.434389, -111.233322], [45.433768, -111.233419], [45.433147, -111.233402], [45.432406, -111.233342], [45.431395, -111.233196], [45.430113, -111.233102], [45.429182, -111.233016], [45.428541, -111.233056], [45.427905, -111.233118], [45.427595, -111.233188], [45.424899, -111.233973], [45.424168, -111.23414], [45.423627, -111.234224], [45.423056, -111.23425], [45.422635, -111.234291], [45.42233, -111.234225], [45.42209, -111.234196], [45.42189, -111.234138], [45.421539, -111.233999], [45.421195, -111.233876], [45.420879, -111.233807], [45.419988, -111.233732], [45.419788, -111.233703], [45.419327, -111.233587], [45.418426, -111.233384], [45.417606, -111.233125], [45.416765, -111.232951], [45.416064, -111.232721], [45.415694, -111.232457], [45.415414, -111.232196], [45.414984, -111.231682], [45.414785, -111.231464], [45.414282, -111.231024], [45.413764, -111.230494], [45.413371, -111.229937], [45.413099, -111.229507], [45.412973, -111.22934], [45.4128, -111.229138], [45.412497, -111.228818], [45.412163, -111.228521], [45.411801, -111.228255], [45.411321, -111.227993], [45.410393, -111.227536], [45.408569, -111.226836], [45.408358, -111.226719], [45.408128, -111.226573], [45.408006, -111.226464], [45.407847, -111.226291], [45.40763, -111.225954], [45.407427, -111.225475], [45.407314, -111.225051], [45.407271, -111.224643], [45.407264, -111.224282], [45.407296, -111.223804], [45.40734, -111.223451], [45.407423, -111.222916], [45.407458, -111.222611], [45.407466, -111.22247], [45.407462, -111.222327], [45.407445, -111.222156], [45.407417, -111.222017], [45.407379, -111.22188], [45.407335, -111.221759], [45.40723, -111.221525], [45.407156, -111.221403], [45.407075, -111.221301], [45.406536, -111.220827], [45.405782, -111.220241], [45.404981, -111.219641], [45.404417, -111.219191], [45.403758, -111.218767], [45.403079, -111.218414], [45.402423, -111.218179], [45.401773, -111.217961], [45.401367, -111.217811], [45.401222, -111.21774], [45.400279, -111.217154], [45.399572, -111.216537], [45.398939, -111.215804], [45.39873, -111.215508], [45.398558, -111.215232], [45.398391, -111.214894], [45.397954, -111.213826], [45.397568, -111.212784], [45.397091, -111.211793], [45.396506, -111.210697], [45.396141, -111.209853], [45.395827, -111.208955], [45.395387, -111.207624], [45.395271, -111.207336], [45.395123, -111.207067], [45.394989, -111.206855], [45.394863, -111.206689], [45.394735, -111.206564], [45.394215, -111.206151], [45.392946, -111.205397], [45.392199, -111.204985], [45.391442, -111.204504], [45.391271, -111.204355], [45.391088, -111.20417], [45.390953, -111.204], [45.390803, -111.203775], [45.390689, -111.203517], [45.390586, -111.203245], [45.390519, -111.203028], [45.390462, -111.202774], [45.390422, -111.202446], [45.390407, -111.202132], [45.39041, -111.201773], [45.390439, -111.200786], [45.390437, -111.200217], [45.390407, -111.199874], [45.390353, -111.199571], [45.390279, -111.199279], [45.390157, -111.198991], [45.390081, -111.198845], [45.390018, -111.19871], [45.389887, -111.198502], [45.389775, -111.198362], [45.389389, -111.198016], [45.388287, -111.197192], [45.387199, -111.19635], [45.38682, -111.196019], [45.386662, -111.195851], [45.386458, -111.195548], [45.386294, -111.195265], [45.386115, -111.194918], [45.385982, -111.194689], [45.385855, -111.194492], [45.385667, -111.194267], [45.385517, -111.194121], [45.385355, -111.19401], [45.385169, -111.193932], [45.384777, -111.193806], [45.384169, -111.193742], [45.383708, -111.193682], [45.383393, -111.193628], [45.383188, -111.193568], [45.383, -111.193484], [45.382703, -111.193275], [45.382574, -111.193146], [45.382438, -111.192981], [45.382257, -111.192706], [45.38212, -111.19244], [45.382026, -111.192185], [45.381833, -111.191536], [45.381607, -111.190618], [45.381366, -111.18972], [45.380954, -111.188072], [45.380821, -111.187498], [45.380779, -111.187163], [45.380754, -111.18688], [45.380737, -111.186482], [45.380768, -111.185273], [45.380772, -111.184831], [45.380755, -111.184468], [45.380702, -111.184067], [45.380316, -111.182027], [45.379734, -111.179212], [45.379631, -111.178531], [45.379593, -111.178022], [45.379604, -111.177563], [45.379646, -111.176776], [45.379637, -111.176319], [45.379597, -111.175876], [45.379534, -111.175539], [45.379405, -111.175144], [45.379238, -111.174779], [45.378907, -111.1743], [45.378684, -111.174071], [45.378463, -111.173918], [45.377961, -111.173728], [45.377743, -111.173696], [45.37749, -111.173727], [45.377285, -111.173771], [45.377092, -111.173842], [45.376846, -111.173989], [45.376643, -111.174143], [45.37646, -111.174327], [45.376213, -111.174626], [45.375805, -111.175086], [45.375378, -111.17545], [45.37516, -111.175579], [45.374903, -111.175679], [45.374706, -111.175727], [45.374567, -111.175749], [45.374406, -111.175749], [45.374125, -111.175728], [45.373963, -111.175688], [45.373505, -111.175506], [45.371932, -111.174789], [45.371681, -111.174723], [45.371432, -111.174677], [45.371146, -111.174678], [45.370982, -111.174691], [45.370794, -111.174734], [45.370052, -111.174952], [45.369253, -111.175203], [45.368469, -111.175383], [45.367965, -111.175429], [45.36773, -111.175421], [45.36699, -111.175328], [45.366196, -111.175093], [45.365421, -111.174702], [45.364983, -111.174363], [45.364252, -111.17371], [45.363536, -111.173003], [45.362797, -111.172323], [45.362026, -111.171729], [45.361186, -111.171274], [45.36044, -111.17085], [45.359653, -111.170568], [45.3589, -111.170433], [45.358203, -111.170546], [45.357717, -111.170698], [45.355265, -111.171681], [45.354495, -111.171908], [45.353741, -111.17198], [45.352653, -111.171921], [45.352283, -111.171961], [45.352049, -111.172025], [45.351893, -111.17209], [45.351293, -111.172456], [45.350935, -111.172643], [45.350678, -111.172746], [45.350361, -111.172805], [45.350137, -111.172862], [45.348673, -111.173059], [45.348299, -111.17312], [45.347214, -111.173256], [45.346826, -111.173276], [45.346493, -111.173255], [45.346191, -111.173216], [45.345786, -111.173096], [45.344219, -111.172268], [45.343459, -111.171897], [45.342478, -111.171395], [45.341313, -111.17083], [45.340918, -111.170668], [45.340575, -111.170575], [45.340211, -111.170546], [45.339765, -111.170607], [45.338064, -111.170998], [45.335175, -111.171549], [45.333082, -111.17198], [45.329329, -111.172463], [45.328806, -111.172578], [45.327997, -111.172811], [45.327242, -111.173135], [45.325813, -111.17379], [45.325014, -111.174179], [45.324301, -111.174585], [45.323993, -111.174842], [45.323736, -111.175104], [45.323426, -111.175529], [45.322545, -111.176926], [45.321924, -111.178035], [45.32032, -111.180769], [45.31774, -111.185185], [45.317295, -111.185901], [45.316927, -111.186466], [45.316746, -111.186654], [45.316552, -111.186754], [45.316116, -111.187035], [45.3154, -111.187371], [45.314696, -111.187753], [45.314007, -111.188269], [45.313382, -111.188927], [45.313034, -111.189337], [45.312819, -111.189533], [45.312619, -111.189698], [45.312408, -111.189827], [45.312123, -111.189983], [45.311877, -111.190076], [45.31163, -111.190187], [45.311071, -111.190481], [45.310675, -111.190744], [45.310011, -111.191285], [45.309431, -111.19201], [45.309036, -111.192642], [45.307944, -111.194664], [45.30745, -111.195532], [45.307202, -111.195904], [45.306885, -111.196229], [45.306506, -111.196497], [45.306248, -111.196623], [45.305975, -111.196678], [45.305524, -111.196704], [45.304816, -111.196642], [45.30412, -111.196556], [45.303499, -111.196623], [45.303142, -111.196733], [45.302846, -111.196893], [45.302329, -111.197382], [45.30135, -111.198388], [45.300882, -111.1989], [45.300425, -111.199355], [45.299985, -111.1999], [45.299568, -111.200512], [45.299195, -111.201152], [45.298927, -111.201688], [45.298615, -111.202394], [45.298379, -111.20304], [45.298289, -111.203388], [45.298226, -111.203565], [45.298105, -111.204041], [45.297618, -111.206397], [45.297501, -111.206996], [45.296694, -111.210888], [45.296471, -111.211911], [45.296267, -111.212902], [45.296107, -111.21357], [45.295996, -111.213945], [45.295864, -111.214285], [45.295695, -111.214631], [45.295477, -111.215015], [45.295249, -111.215296], [45.295029, -111.215545], [45.294753, -111.215766], [45.29456, -111.215892], [45.294212, -111.216064], [45.293714, -111.216264], [45.29328, -111.216419], [45.292149, -111.216774], [45.291666, -111.216935], [45.291208, -111.217104], [45.290557, -111.217308], [45.290264, -111.217385], [45.290019, -111.217475], [45.289705, -111.217619], [45.289501, -111.217736], [45.289359, -111.217846], [45.289215, -111.21798], [45.289072, -111.218144], [45.288906, -111.218388], [45.288701, -111.218773], [45.288182, -111.219989], [45.288043, -111.220274], [45.287915, -111.220486], [45.287605, -111.220922], [45.287438, -111.221102], [45.287196, -111.221304], [45.286928, -111.221486], [45.28676, -111.221579], [45.285972, -111.221958], [45.285347, -111.222289], [45.285051, -111.222476], [45.284752, -111.222703], [45.284386, -111.223069], [45.283458, -111.224195], [45.283263, -111.224404], [45.282939, -111.224727], [45.282548, -111.225066], [45.281589, -111.225856], [45.281042, -111.226352], [45.28074, -111.22668], [45.28019, -111.227358], [45.279921, -111.227734], [45.279679, -111.228106], [45.279421, -111.228539], [45.279125, -111.22911], [45.27867, -111.230075], [45.278281, -111.23094], [45.278044, -111.231496], [45.277917, -111.231851], [45.277798, -111.232226], [45.277723, -111.232503], [45.277634, -111.232971], [45.277554, -111.233469], [45.277321, -111.235142], [45.277201, -111.235717], [45.277126, -111.236014], [45.277038, -111.236296], [45.276917, -111.236646], [45.276763, -111.237019], [45.276546, -111.237474], [45.276319, -111.237873], [45.276168, -111.238106], [45.275982, -111.238363], [45.275763, -111.238638], [45.275486, -111.238934], [45.274541, -111.239817], [45.273785, -111.240505], [45.273439, -111.240831], [45.272818, -111.241389], [45.272367, -111.241823], [45.272042, -111.242178], [45.271876, -111.242396], [45.271702, -111.242648], [45.271474, -111.242996], [45.271271, -111.243361], [45.27113, -111.243634], [45.270917, -111.244078], [45.270591, -111.244881], [45.270326, -111.24567], [45.270097, -111.2465], [45.26987, -111.247375], [45.269597, -111.2483], [45.269459, -111.24869], [45.269252, -111.249191], [45.269008, -111.249697], [45.268827, -111.250031], [45.268581, -111.25043], [45.268397, -111.250696], [45.268071, -111.251124], [45.267638, -111.251613], [45.267081, -111.252128], [45.266712, -111.252395], [45.266242, -111.252687], [45.265882, -111.25289], [45.265315, -111.253084], [45.264632, -111.253301], [45.264731, -111.254135], [45.264838, -111.254542], [45.264965, -111.254882], [45.265682, -111.256995], [45.265795, -111.257343], [45.265949, -111.257897], [45.266052, -111.258322], [45.266161, -111.258836], [45.266272, -111.25944], [45.266376, -111.260139], [45.266466, -111.26092], [45.266526, -111.261696], [45.266552, -111.262314], [45.266562, -111.262926], [45.266555, -111.263525], [45.266523, -111.264206], [45.266407, -111.265612], [45.266365, -111.266311], [45.266375, -111.266665], [45.266414, -111.267029], [45.266492, -111.267383], [45.266602, -111.267741], [45.267449, -111.270075], [45.267693, -111.270907], [45.267852, -111.271718], [45.267916, -111.272214], [45.267951, -111.272571], [45.267995, -111.273417], [45.268083, -111.275861], [45.268201, -111.278713], [45.268226, -111.279584], [45.268234, -111.2805], [45.268211, -111.281195], [45.268098, -111.282313], [45.267949, -111.283236], [45.267777, -111.284173], [45.266941, -111.2884], [45.266433, -111.29101], [45.266255, -111.291738], [45.266154, -111.292065], [45.265983, -111.292434], [45.26609, -111.292564], [45.266616, -111.292968], [45.267036, -111.293221], [45.267261, -111.293267], [45.267473, -111.293257], [45.267671, -111.293204], [45.26778, -111.293164], [45.267937, -111.293067], [45.26806, -111.292985], [45.268228, -111.292824], [45.268423, -111.292533], [45.268355, -111.292478], [45.268042, -111.292287]], "day_num": 1}, {"coords": [[45.268042, -111.292287], [45.268355, -111.292478], [45.268423, -111.292533], [45.268228, -111.292824], [45.26806, -111.292985], [45.267937, -111.293067], [45.26778, -111.293164], [45.267671, -111.293204], [45.267473, -111.293257], [45.267261, -111.293267], [45.267036, -111.293221], [45.266616, -111.292968], [45.26609, -111.292564], [45.265983, -111.292434], [45.266154, -111.292065], [45.266255, -111.291738], [45.266433, -111.29101], [45.266941, -111.2884], [45.267777, -111.284173], [45.267949, -111.283236], [45.268098, -111.282313], [45.268211, -111.281195], [45.268234, -111.2805], [45.268226, -111.279584], [45.268201, -111.278713], [45.268083, -111.275861], [45.267995, -111.273417], [45.267951, -111.272571], [45.267916, -111.272214], [45.267852, -111.271718], [45.267693, -111.270907], [45.267449, -111.270075], [45.266602, -111.267741], [45.266492, -111.267383], [45.266414, -111.267029], [45.266375, -111.266665], [45.266365, -111.266311], [45.266407, -111.265612], [45.266523, -111.264206], [45.266555, -111.263525], [45.266562, -111.262926], [45.266552, -111.262314], [45.266526, -111.261696], [45.266466, -111.26092], [45.266376, -111.260139], [45.266272, -111.25944], [45.266161, -111.258836], [45.266052, -111.258322], [45.265949, -111.257897], [45.265795, -111.257343], [45.265682, -111.256995], [45.264965, -111.254882], [45.264838, -111.254542], [45.264731, -111.254135], [45.264632, -111.253301], [45.265315, -111.253084], [45.265882, -111.25289], [45.266242, -111.252687], [45.266712, -111.252395], [45.267081, -111.252128], [45.267638, -111.251613], [45.268071, -111.251124], [45.268397, -111.250696], [45.268581, -111.25043], [45.268827, -111.250031], [45.269008, -111.249697], [45.269252, -111.249191], [45.269459, -111.24869], [45.269597, -111.2483], [45.26987, -111.247375], [45.270097, -111.2465], [45.270326, -111.24567], [45.270591, -111.244881], [45.270917, -111.244078], [45.27113, -111.243634], [45.271271, -111.243361], [45.271474, -111.242996], [45.271702, -111.242648], [45.271876, -111.242396], [45.272042, -111.242178], [45.272367, -111.241823], [45.272818, -111.241389], [45.273439, -111.240831], [45.273785, -111.240505], [45.274541, -111.239817], [45.275486, -111.238934], [45.275763, -111.238638], [45.275982, -111.238363], [45.276168, -111.238106], [45.276319, -111.237873], [45.276546, -111.237474], [45.276763, -111.237019], [45.276917, -111.236646], [45.277038, -111.236296], [45.277126, -111.236014], [45.277201, -111.235717], [45.277321, -111.235142], [45.277554, -111.233469], [45.277634, -111.232971], [45.277723, -111.232503], [45.277798, -111.232226], [45.277917, -111.231851], [45.278044, -111.231496], [45.278281, -111.23094], [45.27867, -111.230075], [45.279125, -111.22911], [45.279421, -111.228539], [45.279679, -111.228106], [45.279921, -111.227734], [45.28019, -111.227358], [45.28074, -111.22668], [45.281042, -111.226352], [45.281589, -111.225856], [45.282548, -111.225066], [45.282939, -111.224727], [45.283263, -111.224404], [45.283458, -111.224195], [45.284386, -111.223069], [45.284752, -111.222703], [45.285051, -111.222476], [45.285347, -111.222289], [45.285972, -111.221958], [45.28676, -111.221579], [45.286928, -111.221486], [45.287196, -111.221304], [45.287438, -111.221102], [45.287605, -111.220922], [45.287915, -111.220486], [45.288043, -111.220274], [45.288182, -111.219989], [45.288701, -111.218773], [45.288906, -111.218388], [45.289072, -111.218144], [45.289215, -111.21798], [45.289359, -111.217846], [45.289501, -111.217736], [45.289705, -111.217619], [45.290019, -111.217475], [45.290264, -111.217385], [45.290557, -111.217308], [45.291208, -111.217104], [45.291666, -111.216935], [45.292149, -111.216774], [45.29328, -111.216419], [45.293714, -111.216264], [45.294212, -111.216064], [45.29456, -111.215892], [45.294753, -111.215766], [45.295029, -111.215545], [45.295249, -111.215296], [45.295477, -111.215015], [45.295695, -111.214631], [45.295864, -111.214285], [45.295996, -111.213945], [45.296107, -111.21357], [45.296267, -111.212902], [45.296471, -111.211911], [45.296694, -111.210888], [45.297501, -111.206996], [45.297618, -111.206397], [45.298105, -111.204041], [45.298226, -111.203565], [45.298289, -111.203388], [45.298379, -111.20304], [45.298615, -111.202394], [45.298927, -111.201688], [45.299195, -111.201152], [45.299568, -111.200512], [45.299985, -111.1999], [45.300425, -111.199355], [45.300882, -111.1989], [45.30135, -111.198388], [45.302329, -111.197382], [45.302846, -111.196893], [45.303142, -111.196733], [45.303499, -111.196623], [45.30412, -111.196556], [45.304816, -111.196642], [45.305524, -111.196704], [45.305975, -111.196678], [45.306248, -111.196623], [45.306506, -111.196497], [45.306885, -111.196229], [45.307202, -111.195904], [45.30745, -111.195532], [45.307944, -111.194664], [45.309036, -111.192642], [45.309431, -111.19201], [45.310011, -111.191285], [45.310675, -111.190744], [45.311071, -111.190481], [45.31163, -111.190187], [45.311877, -111.190076], [45.312123, -111.189983], [45.312408, -111.189827], [45.312619, -111.189698], [45.312819, -111.189533], [45.313034, -111.189337], [45.313382, -111.188927], [45.314007, -111.188269], [45.314696, -111.187753], [45.3154, -111.187371], [45.316116, -111.187035], [45.316552, -111.186754], [45.316746, -111.186654], [45.316927, -111.186466], [45.317295, -111.185901], [45.31774, -111.185185], [45.32032, -111.180769], [45.321924, -111.178035], [45.322545, -111.176926], [45.323426, -111.175529], [45.323736, -111.175104], [45.323993, -111.174842], [45.324301, -111.174585], [45.325014, -111.174179], [45.325813, -111.17379], [45.327242, -111.173135], [45.327997, -111.172811], [45.328806, -111.172578], [45.329329, -111.172463], [45.333082, -111.17198], [45.335175, -111.171549], [45.338064, -111.170998], [45.339765, -111.170607], [45.340211, -111.170546], [45.340575, -111.170575], [45.340918, -111.170668], [45.341313, -111.17083], [45.342478, -111.171395], [45.343459, -111.171897], [45.344219, -111.172268], [45.345786, -111.173096], [45.346191, -111.173216], [45.346493, -111.173255], [45.346826, -111.173276], [45.347214, -111.173256], [45.348299, -111.17312], [45.348673, -111.173059], [45.350137, -111.172862], [45.350361, -111.172805], [45.350678, -111.172746], [45.350935, -111.172643], [45.351293, -111.172456], [45.351893, -111.17209], [45.352049, -111.172025], [45.352283, -111.171961], [45.352653, -111.171921], [45.353741, -111.17198], [45.354495, -111.171908], [45.355265, -111.171681], [45.357717, -111.170698], [45.358203, -111.170546], [45.3589, -111.170433], [45.359653, -111.170568], [45.36044, -111.17085], [45.361186, -111.171274], [45.362026, -111.171729], [45.362797, -111.172323], [45.363536, -111.173003], [45.364252, -111.17371], [45.364983, -111.174363], [45.365421, -111.174702], [45.366196, -111.175093], [45.36699, -111.175328], [45.36773, -111.175421], [45.367965, -111.175429], [45.368469, -111.175383], [45.369253, -111.175203], [45.370052, -111.174952], [45.370794, -111.174734], [45.370982, -111.174691], [45.371146, -111.174678], [45.371432, -111.174677], [45.371681, -111.174723], [45.371932, -111.174789], [45.373505, -111.175506], [45.373963, -111.175688], [45.374125, -111.175728], [45.374406, -111.175749], [45.374567, -111.175749], [45.374706, -111.175727], [45.374903, -111.175679], [45.37516, -111.175579], [45.375378, -111.17545], [45.375805, -111.175086], [45.376213, -111.174626], [45.37646, -111.174327], [45.376643, -111.174143], [45.376846, -111.173989], [45.377092, -111.173842], [45.377285, -111.173771], [45.37749, -111.173727], [45.377743, -111.173696], [45.377961, -111.173728], [45.378463, -111.173918], [45.378684, -111.174071], [45.378907, -111.1743], [45.379238, -111.174779], [45.379405, -111.175144], [45.379534, -111.175539], [45.379597, -111.175876], [45.379637, -111.176319], [45.379646, -111.176776], [45.379604, -111.177563], [45.379593, -111.178022], [45.379631, -111.178531], [45.379734, -111.179212], [45.380316, -111.182027], [45.380702, -111.184067], [45.380755, -111.184468], [45.380772, -111.184831], [45.380768, -111.185273], [45.380737, -111.186482], [45.380754, -111.18688], [45.380779, -111.187163], [45.380821, -111.187498], [45.380954, -111.188072], [45.381366, -111.18972], [45.381607, -111.190618], [45.381833, -111.191536], [45.382026, -111.192185], [45.38212, -111.19244], [45.382257, -111.192706], [45.382438, -111.192981], [45.382574, -111.193146], [45.382703, -111.193275], [45.383, -111.193484], [45.383188, -111.193568], [45.383393, -111.193628], [45.383708, -111.193682], [45.384169, -111.193742], [45.384777, -111.193806], [45.385169, -111.193932], [45.385355, -111.19401], [45.385517, -111.194121], [45.385667, -111.194267], [45.385855, -111.194492], [45.385982, -111.194689], [45.386115, -111.194918], [45.386294, -111.195265], [45.386458, -111.195548], [45.386662, -111.195851], [45.38682, -111.196019], [45.387199, -111.19635], [45.388287, -111.197192], [45.389389, -111.198016], [45.389775, -111.198362], [45.389887, -111.198502], [45.390018, -111.19871], [45.390081, -111.198845], [45.390157, -111.198991], [45.390279, -111.199279], [45.390353, -111.199571], [45.390407, -111.199874], [45.390437, -111.200217], [45.390439, -111.200786], [45.39041, -111.201773], [45.390407, -111.202132], [45.390422, -111.202446], [45.390462, -111.202774], [45.390519, -111.203028], [45.390586, -111.203245], [45.390689, -111.203517], [45.390803, -111.203775], [45.390953, -111.204], [45.391088, -111.20417], [45.391271, -111.204355], [45.391442, -111.204504], [45.392199, -111.204985], [45.392946, -111.205397], [45.394215, -111.206151], [45.394735, -111.206564], [45.394863, -111.206689], [45.394989, -111.206855], [45.395123, -111.207067], [45.395271, -111.207336], [45.395387, -111.207624], [45.395827, -111.208955], [45.396141, -111.209853], [45.396506, -111.210697], [45.397091, -111.211793], [45.397568, -111.212784], [45.397954, -111.213826], [45.398391, -111.214894], [45.398558, -111.215232], [45.39873, -111.215508], [45.398939, -111.215804], [45.399572, -111.216537], [45.400279, -111.217154], [45.401222, -111.21774], [45.401367, -111.217811], [45.401773, -111.217961], [45.402423, -111.218179], [45.403079, -111.218414], [45.403758, -111.218767], [45.404417, -111.219191], [45.404981, -111.219641], [45.405782, -111.220241], [45.406536, -111.220827], [45.407075, -111.221301], [45.407156, -111.221403], [45.40723, -111.221525], [45.407335, -111.221759], [45.407379, -111.22188], [45.407417, -111.222017], [45.407445, -111.222156], [45.407462, -111.222327], [45.407466, -111.22247], [45.407458, -111.222611], [45.407423, -111.222916], [45.40734, -111.223451], [45.407296, -111.223804], [45.407264, -111.224282], [45.407271, -111.224643], [45.407314, -111.225051], [45.407427, -111.225475], [45.40763, -111.225954], [45.407847, -111.226291], [45.408006, -111.226464], [45.408128, -111.226573], [45.408358, -111.226719], [45.408569, -111.226836], [45.410393, -111.227536], [45.411321, -111.227993], [45.411801, -111.228255], [45.412163, -111.228521], [45.412497, -111.228818], [45.4128, -111.229138], [45.412973, -111.22934], [45.413099, -111.229507], [45.413371, -111.229937], [45.413764, -111.230494], [45.414282, -111.231024], [45.414785, -111.231464], [45.414984, -111.231682], [45.415414, -111.232196], [45.415694, -111.232457], [45.416064, -111.232721], [45.416765, -111.232951], [45.417606, -111.233125], [45.418426, -111.233384], [45.419327, -111.233587], [45.419788, -111.233703], [45.419988, -111.233732], [45.420879, -111.233807], [45.421195, -111.233876], [45.421539, -111.233999], [45.42189, -111.234138], [45.42209, -111.234196], [45.42233, -111.234225], [45.422635, -111.234291], [45.423056, -111.23425], [45.423627, -111.234224], [45.424168, -111.23414], [45.424899, -111.233973], [45.427595, -111.233188], [45.427905, -111.233118], [45.428541, -111.233056], [45.429182, -111.233016], [45.430113, -111.233102], [45.431395, -111.233196], [45.432406, -111.233342], [45.433147, -111.233402], [45.433768, -111.233419], [45.434389, -111.233322], [45.435053, -111.233169], [45.435401, -111.233099], [45.436217, -111.233067], [45.436608, -111.233146], [45.437229, -111.233323], [45.438136, -111.233563], [45.441284, -111.234469], [45.441974, -111.234678], [45.442458, -111.234841], [45.443665, -111.235259], [45.444738, -111.235658], [45.445244, -111.235856], [45.44604, -111.236124], [45.446678, -111.236377], [45.449543, -111.237452], [45.449974, -111.237618], [45.450705, -111.237982], [45.451011, -111.238191], [45.451389, -111.238538], [45.451761, -111.238988], [45.452049, -111.239433], [45.452246, -111.2398], [45.45252, -111.240339], [45.453262, -111.241906], [45.4537, -111.242788], [45.454256, -111.243636], [45.454835, -111.2443], [45.455456, -111.244847], [45.456528, -111.2456], [45.456979, -111.245932], [45.457237, -111.246177], [45.457419, -111.246368], [45.45783, -111.246829], [45.458057, -111.247067], [45.459186, -111.248211], [45.460368, -111.249352], [45.460614, -111.249611], [45.460773, -111.249809], [45.460957, -111.250084], [45.461256, -111.250602], [45.461597, -111.251396], [45.461752, -111.25185], [45.461992, -111.252663], [45.462069, -111.252888], [45.462218, -111.253261], [45.462393, -111.253616], [45.462624, -111.253983], [45.462827, -111.254259], [45.462994, -111.254444], [45.463204, -111.254629], [45.463996, -111.255243], [45.464362, -111.255577], [45.464671, -111.255914], [45.464985, -111.256325], [45.465209, -111.256747], [45.465435, -111.257231], [45.46565, -111.257996], [45.465849, -111.258864], [45.465972, -111.259295], [45.466084, -111.259648], [45.466222, -111.259977], [45.466388, -111.26029], [45.470332, -111.26688], [45.471066, -111.268107], [45.471656, -111.268876], [45.472379, -111.269419], [45.473982, -111.269895], [45.474762, -111.269959], [45.476952, -111.26991], [45.478236, -111.27004], [45.483189, -111.271235], [45.48397, -111.271283], [45.486616, -111.270885], [45.487532, -111.270901], [45.488412, -111.271093], [45.489305, -111.271453], [45.490976, -111.272297], [45.491497, -111.272437], [45.49168, -111.272465], [45.49192, -111.272472], [45.492157, -111.272463], [45.492425, -111.272433], [45.494026, -111.272105], [45.497601, -111.271314], [45.499194, -111.270961], [45.50028, -111.270621], [45.500697, -111.270375], [45.501054, -111.270079], [45.501806, -111.269259], [45.502441, -111.268527], [45.503143, -111.267897], [45.503732, -111.267518], [45.504676, -111.266876], [45.505193, -111.266375], [45.505958, -111.265317], [45.507111, -111.263607], [45.507719, -111.262725], [45.508239, -111.262025], [45.508636, -111.261562], [45.509013, -111.261158], [45.509407, -111.260777], [45.509767, -111.260461], [45.510494, -111.25988], [45.515024, -111.256393], [45.515819, -111.255754], [45.517935, -111.254119], [45.520136, -111.252405], [45.520539, -111.252083], [45.520762, -111.251888], [45.520973, -111.251679], [45.521225, -111.251403], [45.521398, -111.251189], [45.521664, -111.250835], [45.522066, -111.250264], [45.522324, -111.249929], [45.522788, -111.249297], [45.524314, -111.247164], [45.528858, -111.240959], [45.529793, -111.239661], [45.530716, -111.238413], [45.532293, -111.236252], [45.534113, -111.233786], [45.538231, -111.228148], [45.54033, -111.225302], [45.544404, -111.219707], [45.545951, -111.217587], [45.551671, -111.209761], [45.552409, -111.208687], [45.553776, -111.206818], [45.554192, -111.206323], [45.556517, -111.203142], [45.55796, -111.201115], [45.559659, -111.198848], [45.559903, -111.198547], [45.560245, -111.19816], [45.560551, -111.197877], [45.560829, -111.197655], [45.561206, -111.197402], [45.561573, -111.197209], [45.561808, -111.197104], [45.562043, -111.197013], [45.562295, -111.19694], [45.562699, -111.196857], [45.563129, -111.196815], [45.563326, -111.196809], [45.567459, -111.196857], [45.573078, -111.196894], [45.589705, -111.197068], [45.591185, -111.197092], [45.59176, -111.197079], [45.592159, -111.197055], [45.593572, -111.196935], [45.598385, -111.196497], [45.600578, -111.196308], [45.602655, -111.196109], [45.603826, -111.196024], [45.604836, -111.195908], [45.605748, -111.195855], [45.607231, -111.195735], [45.608195, -111.195732], [45.609188, -111.195827], [45.611256, -111.196102], [45.615848, -111.196753], [45.61697, -111.1969], [45.618158, -111.196993], [45.619382, -111.196989], [45.626641, -111.196883], [45.628762, -111.196871], [45.638416, -111.196749], [45.639925, -111.196706], [45.640861, -111.196573], [45.641537, -111.196403], [45.642025, -111.196247], [45.642385, -111.196106], [45.64266, -111.195983], [45.642967, -111.195831], [45.64334, -111.195627], [45.643854, -111.195317], [45.651491, -111.190399], [45.6527, -111.189645], [45.652912, -111.189494], [45.656654, -111.187106], [45.657421, -111.186629], [45.657618, -111.186517], [45.657971, -111.186343], [45.658344, -111.186192], [45.659009, -111.185977], [45.659549, -111.185889], [45.660481, -111.185816], [45.664814, -111.185724], [45.666345, -111.185713], [45.667878, -111.185671], [45.669293, -111.185606], [45.670207, -111.1856], [45.67112, -111.185612], [45.672933, -111.185652], [45.675412, -111.185685], [45.678876, -111.185773], [45.682268, -111.185812], [45.68556, -111.185827], [45.686792, -111.185821], [45.700121, -111.18528], [45.704087, -111.185245], [45.705596, -111.185198], [45.707375, -111.185223], [45.708351, -111.185192], [45.709385, -111.185208], [45.71473, -111.185158], [45.721631, -111.185156], [45.725645, -111.185115], [45.729724, -111.185042], [45.734231, -111.185007], [45.74385, -111.185092], [45.747354, -111.185098], [45.748347, -111.185119], [45.74998, -111.185137], [45.752392, -111.185142], [45.75542, -111.185223], [45.758418, -111.185258], [45.760666, -111.185209], [45.764741, -111.185145], [45.764831, -111.185077], [45.765553, -111.185077], [45.765881, -111.185089], [45.767834, -111.185111], [45.768732, -111.185103], [45.769085, -111.18509], [45.769158, -111.185842], [45.769261, -111.186621], [45.769375, -111.187321], [45.769546, -111.188098], [45.7699, -111.189415], [45.770624, -111.191334], [45.771129, -111.192461], [45.771678, -111.193506], [45.772235, -111.194478], [45.77295, -111.195491], [45.77395, -111.19666], [45.775168, -111.197818], [45.775741, -111.198273], [45.776705, -111.198915], [45.778278, -111.199654], [45.779004, -111.199847], [45.782267, -111.200564], [45.783298, -111.200825], [45.784226, -111.20118], [45.785117, -111.201618], [45.786356, -111.202424], [45.787535, -111.203408], [45.788851, -111.204828], [45.789814, -111.206137], [45.790426, -111.207162], [45.791654, -111.209527], [45.810112, -111.24528], [45.816939, -111.258613], [45.823181, -111.270718], [45.823682, -111.271674], [45.824029, -111.272318], [45.824575, -111.273387], [45.826029, -111.276147], [45.82758, -111.279038], [45.828204, -111.280217], [45.829098, -111.281864], [45.830604, -111.284711], [45.833743, -111.290593], [45.834365, -111.291776], [45.836654, -111.296053], [45.836818, -111.296377], [45.838502, -111.29952], [45.838648, -111.29978], [45.844493, -111.310717], [45.84486, -111.311463], [45.845122, -111.312048], [45.845447, -111.312809], [45.845673, -111.313394], [45.846028, -111.314417], [45.846359, -111.315432], [45.846722, -111.316825], [45.847089, -111.31855], [45.847264, -111.319632], [45.848742, -111.331129], [45.848849, -111.332004], [45.849073, -111.333739], [45.849307, -111.33545], [45.849554, -111.336918], [45.849906, -111.338425], [45.850278, -111.339622], [45.850929, -111.341341], [45.8515, -111.342532], [45.85212, -111.343597], [45.852628, -111.344394], [45.853138, -111.345092], [45.854085, -111.346206], [45.856484, -111.348546], [45.857286, -111.349475], [45.858112, -111.350616], [45.858821, -111.351747], [45.859512, -111.353068], [45.860056, -111.354348], [45.864966, -111.367283], [45.870869, -111.383044], [45.871585, -111.385112], [45.872117, -111.386985], [45.873495, -111.392813], [45.875906, -111.403011], [45.877801, -111.411023], [45.879006, -111.416123], [45.880557, -111.422678], [45.881418, -111.426321], [45.881729, -111.428136], [45.881899, -111.429653], [45.88198, -111.430725], [45.882012, -111.431854], [45.882027, -111.433469], [45.882064, -111.437507], [45.88211, -111.440955], [45.882138, -111.442518], [45.882232, -111.443907], [45.882405, -111.445247], [45.882453, -111.445571], [45.882673, -111.446788], [45.883042, -111.448249], [45.883576, -111.449832], [45.884045, -111.451004], [45.884677, -111.452299], [45.885396, -111.453531], [45.887536, -111.456465], [45.88842, -111.457996], [45.889067, -111.459334], [45.8895, -111.460451], [45.889863, -111.461533], [45.890197, -111.462678], [45.890522, -111.464163], [45.895455, -111.493313], [45.895566, -111.494004], [45.896444, -111.49914], [45.896839, -111.50141], [45.897076, -111.502855], [45.897257, -111.504298], [45.897423, -111.505823], [45.897563, -111.50732], [45.89767, -111.50881], [45.897728, -111.510099], [45.897738, -111.510839], [45.897763, -111.511851], [45.897815, -111.515856], [45.89783, -111.516449], [45.897894, -111.517642], [45.898073, -111.519417], [45.898278, -111.520872], [45.898637, -111.523031], [45.89924, -111.525524], [45.90031, -111.529274], [45.902612, -111.537393], [45.902925, -111.538365], [45.903307, -111.539374], [45.903699, -111.540236], [45.904321, -111.541389], [45.904649, -111.541914], [45.905197, -111.542709], [45.90578, -111.543444], [45.906571, -111.544285], [45.906984, -111.544663], [45.909136, -111.546395], [45.909849, -111.546954], [45.912456, -111.54907], [45.913394, -111.549961], [45.914567, -111.551312], [45.915709, -111.553021], [45.916282, -111.554061], [45.916722, -111.555012], [45.917141, -111.556036], [45.917551, -111.557181], [45.918009, -111.558823], [45.918261, -111.560114], [45.918455, -111.561396], [45.918564, -111.562498], [45.918647, -111.563629], [45.918685, -111.56535], [45.918581, -111.58079], [45.918508, -111.591598], [45.9186, -111.593187], [45.918661, -111.593802], [45.918769, -111.594692], [45.919379, -111.597317], [45.930438, -111.597161], [45.931965, -111.597152], [45.937018, -111.597173], [45.943112, -111.597371], [45.948608, -111.597463], [45.959713, -111.597863], [45.962029, -111.597802], [45.963969, -111.597797], [45.965982, -111.59759], [45.967724, -111.59726], [45.968891, -111.596977], [45.972301, -111.595866], [45.975337, -111.594784], [45.979832, -111.593403], [45.98271, -111.592468], [45.991132, -111.589354], [45.999194, -111.586555], [46.00574, -111.584292], [46.009695, -111.58294], [46.012722, -111.581864], [46.020265, -111.579258], [46.028185, -111.576548], [46.03667, -111.573317], [46.040365, -111.571939], [46.045116, -111.570167], [46.046354, -111.56965], [46.047407, -111.569116], [46.048571, -111.568381], [46.049736, -111.56753], [46.052605, -111.565248], [46.056857, -111.561052], [46.058462, -111.559437], [46.060249, -111.557682], [46.064334, -111.553609], [46.065586, -111.552379], [46.066861, -111.551095], [46.072221, -111.545782], [46.076089, -111.541924], [46.078271, -111.539658], [46.079171, -111.538782], [46.083956, -111.534077], [46.087749, -111.530277], [46.093014, -111.525055], [46.095391, -111.522684], [46.099297, -111.518754], [46.101372, -111.516767], [46.102648, -111.515485], [46.105949, -111.512116], [46.107554, -111.510581], [46.113611, -111.50449], [46.122119, -111.496016], [46.129485, -111.48861], [46.131361, -111.486818], [46.137072, -111.481078], [46.141229, -111.476981], [46.143875, -111.474295], [46.145056, -111.473128], [46.145931, -111.472216], [46.151714, -111.466453], [46.157657, -111.460571], [46.163959, -111.454271], [46.167159, -111.451034], [46.16903, -111.449216], [46.169662, -111.448649], [46.170084, -111.448285], [46.171849, -111.447001], [46.173115, -111.446176], [46.174762, -111.44507], [46.176403, -111.444008], [46.178043, -111.442937], [46.178535, -111.442647], [46.17883, -111.442509], [46.179357, -111.442321], [46.179678, -111.442248], [46.180119, -111.442188], [46.180538, -111.442181], [46.180709, -111.442192], [46.181026, -111.442234], [46.18134, -111.442299], [46.181524, -111.44235], [46.181798, -111.442443], [46.181993, -111.442525], [46.182255, -111.442651], [46.182504, -111.442787], [46.182785, -111.442966], [46.183005, -111.443128], [46.18323, -111.44331], [46.185901, -111.445805], [46.186389, -111.446228], [46.186836, -111.446587], [46.187118, -111.4468], [46.1879, -111.447323], [46.188648, -111.447752], [46.189092, -111.447976], [46.19265, -111.449441], [46.195497, -111.450577], [46.204489, -111.454218], [46.207558, -111.455426], [46.210132, -111.456504], [46.211676, -111.457089], [46.213399, -111.457785], [46.217383, -111.459409], [46.240349, -111.468716], [46.241437, -111.46916], [46.241987, -111.469421], [46.242734, -111.469835], [46.243435, -111.470287], [46.249834, -111.474593], [46.250818, -111.475262], [46.252656, -111.476509], [46.257751, -111.479965], [46.2594, -111.481061], [46.263167, -111.483614], [46.264463, -111.48448], [46.265348, -111.48508], [46.267127, -111.486343], [46.269386, -111.487814], [46.271788, -111.489437], [46.275208, -111.491793], [46.277002, -111.493013], [46.27929, -111.494548], [46.281664, -111.496164], [46.283282, -111.49724], [46.284693, -111.498213], [46.286019, -111.499113], [46.290244, -111.501951], [46.293538, -111.504191], [46.295061, -111.505183], [46.305896, -111.512559], [46.307981, -111.514051], [46.311337, -111.516303], [46.312305, -111.516968], [46.313807, -111.517971], [46.314502, -111.5184], [46.315325, -111.518865], [46.315681, -111.519049], [46.316884, -111.519782], [46.318046, -111.520555], [46.321209, -111.522735], [46.323843, -111.52451], [46.325003, -111.525307], [46.329491, -111.528317], [46.330451, -111.528938], [46.332756, -111.530461], [46.334359, -111.531289], [46.335664, -111.531939], [46.339086, -111.533688], [46.342843, -111.535555], [46.348488, -111.538467], [46.349723, -111.539072], [46.350828, -111.539795], [46.351387, -111.540234], [46.352327, -111.541079], [46.353208, -111.542015], [46.357788, -111.546672], [46.360293, -111.549254], [46.361094, -111.550097], [46.361368, -111.550338], [46.362381, -111.551327], [46.363761, -111.552606], [46.36612, -111.554577], [46.368843, -111.556941], [46.369897, -111.557748], [46.374752, -111.561892], [46.375914, -111.562944], [46.382573, -111.569107], [46.384802, -111.571193], [46.386426, -111.572775], [46.392026, -111.578031], [46.393818, -111.579734], [46.397672, -111.583358], [46.39913, -111.584809], [46.413635, -111.598561], [46.422609, -111.607031], [46.428136, -111.612268], [46.431118, -111.615075], [46.435223, -111.618919], [46.438638, -111.622154], [46.442087, -111.625535], [46.448016, -111.631149], [46.451136, -111.634017], [46.453902, -111.636702], [46.4571, -111.639602], [46.457856, -111.640248], [46.459588, -111.641867], [46.466604, -111.648016], [46.468033, -111.64915], [46.471166, -111.651164], [46.472854, -111.652329], [46.473784, -111.653008], [46.474317, -111.653536], [46.475128, -111.654298], [46.47561, -111.654869], [46.477426, -111.656906], [46.478067, -111.657658], [46.478437, -111.658049], [46.478837, -111.658461], [46.481866, -111.661422], [46.482894, -111.662595], [46.483776, -111.663773], [46.484507, -111.66496], [46.485047, -111.665942], [46.486091, -111.668034], [46.486776, -111.669542], [46.487817, -111.671638], [46.489974, -111.676236], [46.491724, -111.679879], [46.492509, -111.681325], [46.493085, -111.68213], [46.493796, -111.682916], [46.499885, -111.689375], [46.500539, -111.690039], [46.502229, -111.6918], [46.503579, -111.693236], [46.510486, -111.700502], [46.51272, -111.70287], [46.514717, -111.704703], [46.515232, -111.705053], [46.515978, -111.705795], [46.518194, -111.707251], [46.519447, -111.708041], [46.5202, -111.708559], [46.521186, -111.709498], [46.523132, -111.711192], [46.52544, -111.713247], [46.525757, -111.713619], [46.528825, -111.716486], [46.530957, -111.718437], [46.531582, -111.719189], [46.532164, -111.720016], [46.532411, -111.720459], [46.537237, -111.73012], [46.538281, -111.732233], [46.54399, -111.743966], [46.545038, -111.745899], [46.545396, -111.746683], [46.548338, -111.752546], [46.548696, -111.753361], [46.54901, -111.754354], [46.549368, -111.755605], [46.551425, -111.763194], [46.552263, -111.76626], [46.552594, -111.76726], [46.553143, -111.768582], [46.55426, -111.770838], [46.554335, -111.770967], [46.555124, -111.77196], [46.556228, -111.773584], [46.560148, -111.779395], [46.560491, -111.779999], [46.560728, -111.78047], [46.560944, -111.780958], [46.561396, -111.782365], [46.56158, -111.783262], [46.561702, -111.784152], [46.561967, -111.787897], [46.562094, -111.789782], [46.562368, -111.791389], [46.56257, -111.792184], [46.563057, -111.793923], [46.567156, -111.808824], [46.568408, -111.813252], [46.569085, -111.81574], [46.571184, -111.823276], [46.571405, -111.824041], [46.571779, -111.825184], [46.572085, -111.826028], [46.573523, -111.82952], [46.58133, -111.848336], [46.581756, -111.849402], [46.581953, -111.849945], [46.582446, -111.851399], [46.582852, -111.85303], [46.583109, -111.854254], [46.586552, -111.872397], [46.586582, -111.872503], [46.587455, -111.877087], [46.587616, -111.878026], [46.58771, -111.878731], [46.587768, -111.87928], [46.587829, -111.880102], [46.58785, -111.880651], [46.58786, -111.881193], [46.587848, -111.887734], [46.587838, -111.888185], [46.587788, -111.889008], [46.587727, -111.889585], [46.587674, -111.88997], [46.587606, -111.890345], [46.587491, -111.890913], [46.587402, -111.891286], [46.587247, -111.891828], [46.587059, -111.892447], [46.586081, -111.895589], [46.585934, -111.896111], [46.585801, -111.896646], [46.585693, -111.897188], [46.585645, -111.897463], [46.585564, -111.898012], [46.5855, -111.898561], [46.585439, -111.899454], [46.585424, -111.900203], [46.585436, -111.900739], [46.585462, -111.90126], [46.585502, -111.901783], [46.586077, -111.90604], [46.586324, -111.908081], [46.5864, -111.9084], [46.586785, -111.911272], [46.587234, -111.914475], [46.587758, -111.91845], [46.587954, -111.919733], [46.588117, -111.921077], [46.589531, -111.931496], [46.59032, -111.937362], [46.590426, -111.938037], [46.590573, -111.938706], [46.590756, -111.939362], [46.591519, -111.941778], [46.591601, -111.942051], [46.591719, -111.94252], [46.591803, -111.942996], [46.591859, -111.943478], [46.591886, -111.943961], [46.59189, -111.944198], [46.591869, -111.94468], [46.591817, -111.945141], [46.591781, -111.945372], [46.591691, -111.945807], [46.591424, -111.946719], [46.59067, -111.948721], [46.590531, -111.949147], [46.590416, -111.949594], [46.590325, -111.950055], [46.590293, -111.950299], [46.590253, -111.950787], [46.590245, -111.951037], [46.590244, -111.951281], [46.590269, -111.951775], [46.590325, -111.952277], [46.59053, -111.953606], [46.59098, -111.956332], [46.591246, -111.958036], [46.591356, -111.958787], [46.591426, -111.959369], [46.591518, -111.96033], [46.591551, -111.960851], [46.591588, -111.961893], [46.591589, -111.963598], [46.591553, -111.972857], [46.591545, -111.973477], [46.591534, -111.974184], [46.591473, -111.97626], [46.591408, -111.977681], [46.591373, -111.978972], [46.591351, -111.980154], [46.591336, -111.983449], [46.591321, -111.988737], [46.591334, -111.991259], [46.591331, -111.992382], [46.591278, -111.998102], [46.591185, -112.006965], [46.591052, -112.020399], [46.589742, -112.020379], [46.589739, -112.022065], [46.589701, -112.025732], [46.589695, -112.028983], [46.589712, -112.029091], [46.589762, -112.029256], [46.590156, -112.030149], [46.590319, -112.030562], [46.590343, -112.03067], [46.590349, -112.030805], [46.590339, -112.030972], [46.59036, -112.031123], [46.591274, -112.033422], [46.590303, -112.034271], [46.590333, -112.034345], [46.590392, -112.034543], [46.590404, -112.034842], [46.590431, -112.036133], [46.590478, -112.037506], [46.590467, -112.038901], [46.58986, -112.038996], [46.589777, -112.038639], [46.589772, -112.038507]], "day_num": 2}];
    const summary = {"hub_city": "Bozeman", "total_km": 310.9, "total_drive": "03:45", "total_visit": "10:02", "days_span": 2, "start_date": "2026-05-18", "end_date": "2026-05-19", "total_return_eur": 250000.0, "distance_cost_eur": 15.54, "time_cost_eur": 275.67, "hotel_cost_per_night_eur": 120.0, "num_nights": 1, "hotel_cost_eur": 120.0, "custo_total_eur": 411.21, "objective_eur": 411.21, "time_cost_eur_per_hour": 20.0, "cost_eur_per_km": 0.05};

    const eur = (x) =>
      new Intl.NumberFormat("pt-PT", { style: "currency", currency: "EUR" }).format(Number(x || 0));

    const num = (x, d=1) =>
      new Intl.NumberFormat("pt-PT", { minimumFractionDigits: 0, maximumFractionDigits: d }).format(Number(x || 0));

    const dayColors = ["#e53935","#1e88e5","#43a047","#8e24aa","#fb8c00","#00897b","#5e35b1","#6d4c41"];
    const colorForDay = (d) => dayColors[(d - 1) % dayColors.length];

    const map = L.map("map");
    L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
      maxZoom: 19,
      attribution: "&copy; OpenStreetMap contributors"
    }).addTo(map);

    const bounds = [];

    data.forEach(d => {
      const p = [d.lat, d.lon];
      bounds.push(p);

      const icon = L.divIcon({
        className: "num-marker",
        html: `<div class="num-badge">${d.visit_order}</div>`,
        iconSize: [26, 26],
        iconAnchor: [13, 13]
      });

      L.marker(p, { icon })
        .addTo(map)
        .bindPopup(
          `<b>${d.visit_order}. ${d.office}</b><br/>` +
          `Dia: ${d.day_num}<br/>` +
          `Cidade: ${d.city}<br/>` +
          `Chegada: ${d.arrival}<br/>` +
          `Saída: ${d.departure}<br/>` +
          `Drive: ${d.drive_duration}<br/>` +
          `Visita: ${d.visit_duration}<br/>` +
          `Retorno: ${eur(d.return_eur)}`
        );
    });

    segments.forEach(s => {
      if (s.coords && s.coords.length > 1) {
        const color = colorForDay(s.day_num);
        L.polyline(s.coords, { weight: 5, color, opacity: 0.9 }).addTo(map);
        s.coords.forEach(p => bounds.push(p));
      }
    });

    if (bounds.length) {
      map.fitBounds(bounds, { padding: [20,20] });
    }

    const cards = document.getElementById("cards");
    cards.innerHTML = `
      <div class="card"><div class="k">Hub (cidade base)</div><div class="v">${summary.hub_city}</div></div>
      <div class="card"><div class="k">Período</div><div class="v">${summary.start_date} → ${summary.end_date} (≈ ${summary.days_span} dia(s))</div></div>
      <div class="card"><div class="k">Total km</div><div class="v">${num(summary.total_km, 1)}</div></div>
      <div class="card"><div class="k">Custo distância</div><div class="v">${eur(summary.distance_cost_eur)}</div></div>
      <div class="card"><div class="k">Total condução</div><div class="v">${summary.total_drive}</div></div>
      <div class="card"><div class="k">Total visitas</div><div class="v">${summary.total_visit}</div></div>
      <div class="card"><div class="k">Custo tempo (a ${num(summary.time_cost_eur_per_hour, 0)} €/h)</div><div class="v">${eur(summary.time_cost_eur)}</div></div>
      <div class="card"><div class="k">Retorno total</div><div class="v">${eur(summary.total_return_eur)}</div></div>
      <div class="card"><div class="k">Net</div><div class="v">${eur(summary.net_eur)}</div></div>
      <div class="card"><div class="k">Noites (hotel)</div><div class="v">${summary.num_nights} × ${eur(summary.hotel_cost_per_night_eur)}</div></div>
      <div class="card"><div class="k">Custo hotel</div><div class="v">${eur(summary.hotel_cost_eur)}</div></div>
      <div class="card"><div class="k">Custo total</div><div class="v">${eur(summary.custo_total_eur)}</div></div>
    `;

    const maxDay = Math.max(...data.map(d => d.day_num));
    const legend = document.getElementById("legend");
    let lg = "";
    for (let d = 1; d <= maxDay; d++) {
      lg += `<div class="chip"><span class="swatch" style="background:${colorForDay(d)}"></span><span>Dia ${d}</span></div>`;
    }
    legend.innerHTML = lg;

    const t = document.getElementById("t");
    t.innerHTML = `
      <tr>
        <th>Dia</th><th>#</th><th>Office</th><th>City</th><th>Chegada</th><th>Saída</th>
        <th>Visita</th><th>Drive</th><th>Km ant.</th><th>Km acum.</th><th>CLAS</th><th>Retorno</th>
      </tr>
    `;
    data.forEach(d => {
      t.innerHTML += `
        <tr>
          <td>${d.day_num}</td>
          <td>${d.visit_order}</td>
          <td>${d.office}</td>
          <td>${d.city}</td>
          <td>${d.arrival}</td>
          <td>${d.departure}</td>
          <td>${d.visit_duration}</td>
          <td>${d.drive_duration}</td>
          <td>${num(d.dist_from_prev_km, 1)}</td>
          <td>${num(d.cumulative_km, 1)}</td>
          <td>${d.clas ?? ""}</td>
          <td>${eur(d.return_eur)}</td>
        </tr>
      `;
    });
  </script>
</body>
</html>
